---
import Message from "@assets/icons/message.svg";
import Bluesky from "@assets/socials/bluesky.webp";
import GitHub from "@assets/socials/github.webp";
import KoFi from "@assets/socials/kofi.webp";
import Papers from "@assets/socials/papers.webp";
import Thunderbird from "@assets/socials/thunderbird.webp";
import Twitter from "@assets/socials/twitter.webp";
import Social, { type SocialProps } from "@components/Social.astro";
import {
  getLangFromUrl,
  useTranslatedPaths,
  useTranslations,
} from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPaths(lang);

const socials: SocialProps[] = [
  {
    name: "Email",
    description: "clembs@clembs.com",
    text: "clembs@clembs.com",
    img: Thunderbird,
  },
  {
    name: "CV",
    description: t("contact.cv.view_pdf"),
    href: translatePath("/cv"),
    img: Papers,
  },
  {
    name: "Twitter",
    description: "@clembsv",
    href: "https://twitter.com/clembsv",
    img: Twitter,
  },
  {
    name: "Bluesky",
    description: "@clembs.com",
    href: "https://bsky.app/profile/clembs.com",
    img: Bluesky,
  },
  {
    name: "GitHub",
    description: "@clembs",
    href: "https://github.com/Clembs",
    img: GitHub,
  },
  {
    name: "Ko-Fi",
    description: t("contact.support"),
    href: "https://ko-fi.com/clembs",
    img: KoFi,
  },
];
---

<section id="contact">
  <div class="section-title">
    <Message />

    <h2>
      {t("section_contact")}
    </h2>

    <p>
      {t("section_contact.description")}
    </p>
  </div>

  <div id="socials">
    {socials.map((s) => <Social {...s} />)}
  </div>
</section>

<style lang="scss">
  #socials {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    width: 100%;
    max-width: 500px;

    @media (max-width: 600px) {
      grid-template-columns: 1fr;
      gap: 0;
    }
  }
</style>
